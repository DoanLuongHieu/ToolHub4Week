<div class="container">
  <div class="content">
    <h1>{{ "OTHER_TOOLS.NUMERICAL_ANALYSIS.TITLE" | translate }}</h1>
    <p class="description">
      {{ "OTHER_TOOLS.NUMERICAL_ANALYSIS.DESCRIPTION" | translate }}
    </p>

    <div class="input-form">
      <div class="input-group">
        <label for="day"
          >{{
            "OTHER_TOOLS.NUMERICAL_ANALYSIS.DAY_OF_BIRTH" | translate
          }}
          (a):</label
        >
        <input
          type="number"
          id="day"
          [(ngModel)]="a"
          min="01"
          max="31"
          placeholder="1-31"
        />
      </div>

      <div class="input-group">
        <label for="month"
          >{{
            "OTHER_TOOLS.NUMERICAL_ANALYSIS.MONTH_OF_BIRTH" | translate
          }}
          (b):</label
        >
        <input
          type="number"
          id="month"
          [(ngModel)]="b"
          min="1"
          max="12"
          placeholder="1-12"
        />
      </div>

      <div class="input-group">
        <label for="year"
          >{{
            "OTHER_TOOLS.NUMERICAL_ANALYSIS.YEAR_OF_BIRTH" | translate
          }}
          (c):</label
        >
        <input
          type="number"
          id="year"
          [(ngModel)]="c"
          min="1900"
          max="2099"
          placeholder="1900-2099"
        />
      </div>

      <div class="options-section">
        <div class="option-group">
          <label for="method"
            >{{
              "OTHER_TOOLS.NUMERICAL_ANALYSIS.SEARCH_METHOD" | translate
            }}:</label
          >
          <select id="method" [(ngModel)]="selectedMethod">
            <option value="bfs">
              {{ "OTHER_TOOLS.NUMERICAL_ANALYSIS.BFS_METHOD" | translate }}
            </option>
            <option value="prime">
              {{
                "OTHER_TOOLS.NUMERICAL_ANALYSIS.PRIME_FACTORIZATION" | translate
              }}
            </option>
            <option value="decimal">
              {{
                "OTHER_TOOLS.NUMERICAL_ANALYSIS.DECIMAL_ANALYSIS" | translate
              }}
            </option>
            <option value="modulo">
              {{ "OTHER_TOOLS.NUMERICAL_ANALYSIS.MODULO_METHOD" | translate }}
            </option>
            <option value="meetMiddle">
              {{ "OTHER_TOOLS.NUMERICAL_ANALYSIS.MEET_IN_MIDDLE" | translate }}
            </option>
            <option value="ladder">
              {{ "OTHER_TOOLS.NUMERICAL_ANALYSIS.LADDER_METHOD" | translate }}
            </option>
            <option value="divideConquer">
              {{ "OTHER_TOOLS.NUMERICAL_ANALYSIS.DIVIDE_CONQUER" | translate }}
            </option>
          </select>
        </div>

        <div class="option-group">
          <label for="maxDepth"
            >{{
              "OTHER_TOOLS.NUMERICAL_ANALYSIS.MAX_DEPTH" | translate
            }}:</label
          >
          <input
            type="number"
            id="maxDepth"
            [(ngModel)]="maxDepth"
            min="1"
            max="10"
            step="1"
          />
        </div>

        <div class="checkbox-group">
          <label class="checkbox-label">
            <input type="checkbox" [(ngModel)]="showSteps" />
            {{ "OTHER_TOOLS.NUMERICAL_ANALYSIS.SHOW_STEPS" | translate }}
          </label>
        </div>
      </div>

      <button
        class="calculate-btn"
        (click)="findExpression()"
        [disabled]="isLoading"
      >
        <span *ngIf="!isLoading">{{
          "OTHER_TOOLS.NUMERICAL_ANALYSIS.FIND_EXPRESSION" | translate
        }}</span>
        <span *ngIf="isLoading" class="loading-spinner"></span>
      </button>
    </div>

    <div
      class="result-section"
      *ngIf="result || error || (showSteps && steps.length > 0)"
    >
      <div class="error-message" *ngIf="error">
        {{ error }}
      </div>

      <div class="steps-display" *ngIf="showSteps && steps.length > 0">
        <h3>{{ "OTHER_TOOLS.NUMERICAL_ANALYSIS.STEPS" | translate }}:</h3>
        <div class="step" *ngFor="let step of steps; let i = index">
          <span class="step-number">{{ i + 1 }}.</span>
          <span class="step-content">{{ step }}</span>
        </div>
      </div>

      <div class="result-display" *ngIf="result && !error">
        <h3>{{ "OTHER_TOOLS.NUMERICAL_ANALYSIS.RESULT" | translate }}:</h3>
        <div class="expression-container">
          <div class="expression">
            <div class="expression-content">{{ result }}</div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
