<div class="personal-info">
  <form [formGroup]="personalForm" (ngSubmit)="onSubmit()">
    <!-- Avatar section -->
    <div class="avatar-section">
      <div class="avatar">
        <img
          [src]="
            selectedPhotoURL ||
            user.photoURL ||
            'assets/images/default-avatar.png'
          "
          alt="{{ 'USER.ACCOUNT.AVATAR_ALT' | translate }}"
        />
        <div class="avatar-actions">
          <label class="avatar-upload-btn">
            <input
              type="file"
              accept="image/*"
              (change)="onFileSelected($event)"
            />
            <span>{{ "USER.ACCOUNT.CHANGE_PHOTO" | translate }}</span>
          </label>
          <button
            *ngIf="selectedPhotoURL"
            type="button"
            class="avatar-clear-btn"
            (click)="clearSelectedPhoto()"
          >
            {{ "USER.ACCOUNT.REMOVE_PHOTO" | translate }}
          </button>
        </div>
      </div>
    </div>

    <!-- Personal details -->
    <div class="form-section">
      <h3>{{ "USER.ACCOUNT.PERSONAL_DETAILS" | translate }}</h3>

      <div class="form-group">
        <label for="email">{{ "USER.ACCOUNT.EMAIL" | translate }}</label>
        <input type="email" id="email" [value]="user.email" disabled />
        <small>{{ "USER.ACCOUNT.EMAIL_CANNOT_CHANGE" | translate }}</small>
      </div>

      <div class="form-group">
        <label for="fullName">{{ "USER.ACCOUNT.FULL_NAME" | translate }}</label>
        <input type="text" id="fullName" formControlName="fullName" />
      </div>

      <div class="form-group">
        <label for="birthDate">{{
          "USER.ACCOUNT.BIRTH_DATE" | translate
        }}</label>
        <input type="date" id="birthDate" formControlName="birthDate" />
      </div>

      <div class="form-group">
        <label for="gender">{{ "USER.ACCOUNT.GENDER" | translate }}</label>
        <select id="gender" formControlName="gender">
          <option value="">
            {{ "USER.ACCOUNT.SELECT_GENDER" | translate }}
          </option>
          <option value="male">
            {{ "USER.ACCOUNT.GENDER_MALE" | translate }}
          </option>
          <option value="female">
            {{ "USER.ACCOUNT.GENDER_FEMALE" | translate }}
          </option>
          <option value="other">
            {{ "USER.ACCOUNT.GENDER_OTHER" | translate }}
          </option>
        </select>
      </div>
    </div>

    <!-- Social media links -->
    <div class="form-section">
      <h3>{{ "USER.ACCOUNT.SOCIAL_LINKS" | translate }}</h3>

      <div class="form-group">
        <label for="facebookUrl">{{
          "USER.ACCOUNT.FACEBOOK" | translate
        }}</label>
        <input
          type="url"
          id="facebookUrl"
          formControlName="facebookUrl"
          placeholder="https://facebook.com/your-profile"
        />
      </div>

      <div class="form-group">
        <label for="youtubeUrl">{{ "USER.ACCOUNT.YOUTUBE" | translate }}</label>
        <input
          type="url"
          id="youtubeUrl"
          formControlName="youtubeUrl"
          placeholder="https://youtube.com/@your-channel"
        />
      </div>

      <div class="form-group">
        <label for="twitterUrl">{{ "USER.ACCOUNT.TWITTER" | translate }}</label>
        <input
          type="url"
          id="twitterUrl"
          formControlName="twitterUrl"
          placeholder="https://twitter.com/your-handle"
        />
      </div>

      <div class="form-group">
        <label for="instagramUrl">{{
          "USER.ACCOUNT.INSTAGRAM" | translate
        }}</label>
        <input
          type="url"
          id="instagramUrl"
          formControlName="instagramUrl"
          placeholder="https://instagram.com/your-handle"
        />
      </div>
    </div>

    <!-- Error and success messages -->
    <div class="messages">
      <div *ngIf="errorMessage" class="error-message">{{ errorMessage }}</div>
      <div *ngIf="successMessage" class="success-message">
        {{ successMessage }}
      </div>
    </div>

    <!-- Submit button -->
    <div class="form-actions">
      <button
        type="submit"
        [disabled]="isSubmitting || personalForm.invalid"
        class="btn-save"
      >
        <span *ngIf="!isSubmitting">{{
          "USER.ACCOUNT.SAVE_BUTTON" | translate
        }}</span>
        <span *ngIf="isSubmitting">{{
          "USER.ACCOUNT.PROCESSING" | translate
        }}</span>
      </button>
    </div>
  </form>
</div>
